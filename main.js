define(["jquery","base/view","util/date-format","util/helpers","payment/payment-action"],function(a,b,c,d){"use strict";var e="YYYY.MM.DD hh:mm",f=b.extend({props:{optionsSelector:"[data-notification-slot-config]",templates:{slot:"notification-slot/tmpl/main"},css:["components.notification-slot.notification-slot"]},public:{init:function(){this.checkOptions(),this.renderSlot()},destroy:function(){f.__super__.destroy.call(this)}},protected:{checkOptions:function(){var a,b;d.isObject(this.options)&&Object.keys(this.options).length>0||(a=this.$el.find(this.optionsSelector),b=a.text().trim(),this.options=d.parseJsonFromSrc(b))},getDates:function(a,b){var d,f,g,h;return d={start:c.stringToDate(a,e),stop:c.stringToDate(b,e)},f=c.dateToString(d.start,e,e),h=c.dateToString(d.stop,e,e),f!==a||h!==b?(g=f!==a?"Entered: "+a+". Parsed: "+f:"Entered: "+b+". Parsed: "+h,console.warn("Invalid dates for notification slot. "+g),!1):d},renderSlot:function(){var b,c,d=Date.now();b=a.extend({},this.options),b.isExternalLink=b.link&&0===b.link.indexOf("http"),c=this.getDates(b.dates.start,b.dates.stop),c!==!1&&d>=c.start&&d<c.stop&&this.render("slot",b,function(a){this.$el.append(a),this.$el.slideDown()}.bind(this))}}});return f});